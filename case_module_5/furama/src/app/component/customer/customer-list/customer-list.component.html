<div class="container">
  <h1 class="text-center cac" style="font-family: 'Bell MT'">DANH SÁCH KHÁCH HÀNG</h1>
    <input class="form-control me-2 col-md-5" type="search" placeholder="tìm theo tên khách hàng hoặc địa chỉ"
           aria-label="Search" [(ngModel)]="name" name="name" (input)="onSearch()">
  <table class="table table-bordered table-responsive table-hover">
    <thead>
    <tr class="table-primary" style="font-family: 'Bell MT'">
      <th><span class="fa fa-windows text-danger"></span></th>
      <th>HỌ TÊN</th>
      <th>NGÀY SINH</th>
      <th>SỐ CMND</th>
      <th>SỐ ĐIỆN THOẠI</th>
      <th>LOẠI KHÁCH HÀNG</th>
      <th>ĐỊA CHỈ</th>
      <th class="text-center">
        <button type="button" class="btn border-0" data-bs-toggle="modal" data-bs-target="#exampleModal1">
          <span class="fa fa fa-user-plus text-primary"></span>
        </button>
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let customer of customerList">
      <td>{{customer.id}}</td>
      <td>{{customer.name}}</td>
      <td>{{customer.dateOfBirth}}</td>
      <td>{{customer.idCard}}</td>
      <td>{{customer.phoneNumber}}</td>
      <td>{{customer.typeCustomer.typeNameCustomer}}</td>
      <td>{{customer.address}}</td>
      <td class="text-center">
<!--        <a>-->
<!--          <span class="fa fa-edit fa-1x text-warning"></span>-->
<!--        </a>-->
        <button type="button" (click)="setCustomer(customer)" class="btn border-0" data-bs-toggle="modal" data-bs-target="#exampleModal">
          <span class="fa fa fa-trash text-danger fa-1x"></span>
        </button>
      </td>
    </tr>
    </tbody>
  </table>

  <div class="row text-center">
    <div class="col-lg-12">
      <a *ngIf="page" class="text-decoration-none" (click)="previous()">
        <span class="fa fa-angle-left text-primary" style="font-size: 30px"></span>
      </a>
      <span class="text-info" style="font-size: 25px">{{page + 1}}/{{totalPage}}</span>
      <a *ngIf="page != totalPage - 1" (click)="next()" class="text-decoration-none">
        <span class="fa fa-angle-right text-primary" style="font-size: 30px"></span>
      </a>
    </div>
  </div>

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">XÓA KHÁCH HÀNG</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <app-customer-delete [customerDelete]="customers" (customers)="deleteCustomer($event)"></app-customer-delete>
          </div>
        </div>
      </div>
  </div>
</div>
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-success bg-gradient">
          <h5 class="modal-title text-light" id="exampleModalLabel1">THÊM MỚI KHÁCH HÀNG</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body container-fluid w-100">
          <div class="container-fluid mt-4 p-2 mb-4" style="border: 0px solid grey;font-family: 'Bell MT'; border-radius: 1px">
            <form [formGroup]="customer" (ngSubmit)="submit()">
              <div class="col-md-12">
                <label for="name" class="form-label">TÊN KHÁCH HÀNG</label>
                <input type="text" class="form-control" id="name" formControlName="name" name="name">
                <p class="text-danger"></p>
              </div>
              <div class="col-md-12">
                <label for="birthday" class="form-label">NGÀY SINH</label>
                <input type="date" class="form-control" id="birthday" formControlName="dateOfBirth" name="dateOfBirth">
                <p class="text-danger"></p>
              </div>
              <div class="col-md-12">
                <label for="id_card" class="form-label">SỐ CMND</label>
                <input type="text" class="form-control" id="id_card" formControlName="idCard" name="idCard">
                <p class="text-danger"></p>
              </div>
              <div class="col-md-12">
                <label for="phone" class="form-label">SỐ ĐIỆN THOẠI</label>
                <input type="text" class="form-control" id="phone" formControlName="phoneNumber" name="phoneNumber">
                <p class="text-danger"></p>
              </div>
              <div class="col-md-12 " id="s1" >
                <label for="email" class="form-label">EMAIL </label>
                <input type="text" class="form-control" id="email" formControlName="email" name="email">
                <p class="text-danger"></p>
              </div>
              <div class="mb-3" formGroupName="typeCustomer">
                <div>LOẠI KHÁCH HÀNG</div>
                <select class="form-control" formControlName="typeCustomerId" name="typeCustomer">
                  <option value="" disabled selected>chọn loại khách</option>
                  <ng-container *ngFor="let typeCus of typeCustomers">
                    <option [ngValue]="typeCus.typeCustomerId">{{typeCus.typeNameCustomer}}</option>
                  </ng-container>
                </select>
                <p class="text-danger"></p>
              </div>
              <div class="col-md-12 " id="s2" >
                <label for="address" class="form-label">ĐỊA CHỈ</label>
                <input type="text" class="form-control" id="address" formControlName="address" name="address">
                <p class="text-danger"></p>
              </div>
              <div class="col-12 ">
                <button type="submit" class="btn btn-success bg-gradient form-control" [disabled]="!customer.valid" data-bs-dismiss="modal">LƯU</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
</div>
